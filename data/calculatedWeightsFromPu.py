import ROOT as r
##========== VERTEX REWEIGHTING ===============
#PU_2012 = [3.3526156883828602, 5.0000390543531159, 5.0000387186660964, 5.0000387864635014, 5.0000390502495184, 5.0000389494780535, 3.4145539861479008, 1.7907397611093883, 1.5290439653662495, 1.5740788042135916, 1.6530978708241377, 1.6462211050178599, 1.5287603131779848, 1.350159932499021, 1.1605480712613019, 1.0167357240277282, 0.94570196626791592, 0.92969500964238916, 0.94911635831102081, 0.98744363579509253, 1.0189148078013086, 1.0293893415021849, 1.0212259726950803, 1.000824346166683, 0.97311858818444352, 0.94213734571363006, 0.91015183950802869, 0.87804921585398921, 0.84564433493107471, 0.81305212352685896, 0.7803616157059774, 0.74750993300650936, 0.71409776929773849, 0.68074164080016197, 0.64779490297963582, 0.61464959710449685, 0.58197264454021658, 0.55012656573179264, 0.51876819929979823, 0.48823394292261296, 0.45864392634163109, 0.43010947665090771, 0.40265257271948524, 0.37615982828793132, 0.35110986448841147, 0.32716124272580405, 0.30431197427324258, 0.28274399234289738, 0.26242234978760065, 0.24325970866189159]
#
#PU_Parked = [3.2656482861935525, 4.9999647014146422, 4.9999648145083899, 4.9999649436843638, 4.9999648372320324, 4.9999647036482759, 3.3653892225198061, 1.7597056523985721, 1.4982336142415447, 1.5384735321485499, 1.6124849574170474, 1.6036412064279288, 1.4883815485119414, 1.3148712612127023, 1.1315431788849037, 0.99337864439851242, 0.92667953029761818, 0.91435190397615729, 0.93747300279229162, 0.97997083690857978, 1.0162857177808557, 1.0319849982498466, 1.0289687240765373, 1.0133078098918098, 0.98976087628913667, 0.96230687634602519, 0.93323473929513412, 0.90347356677945745, 0.87287465212550441, 0.84160578723585178, 0.80981117876135911, 0.77747595492554689, 0.74422976381383454, 0.71075417641902039, 0.67745471057427686, 0.64372679632900798, 0.61029455442386538, 0.57756210368991379, 0.54519015208456412, 0.51355063058413741, 0.48278696117646297, 0.45303237393697315, 0.42432504842204766, 0.3965597189788771, 0.37025439991596454, 0.34506206651433241, 0.32099258252292062, 0.29824917308789606, 0.2768053962530459, 0.25657862184746755] 
##===========================================
##========== VERTEX REWEIGHTING ===============
PU_2012 = [3.3526156883828602, 5.0000390543531159, 5.0000387186660964, 5.0000387864635014, 5.0000390502495184, 5.0000389494780535, 3.4145539861479008, 1.7907397611093883, 1.5290439653662495, 1.5740788042135916, 1.6530978708241377, 1.6462211050178599, 1.5287603131779848, 1.350159932499021, 1.1605480712613019, 1.0167357240277282, 0.94570196626791592, 0.92969500964238916, 0.94911635831102081, 0.98744363579509253, 1.0189148078013086, 1.0293893415021849, 1.0212259726950803, 1.000824346166683, 0.97311858818444352, 0.94213734571363006, 0.91015183950802869, 0.87804921585398921, 0.84564433493107471, 0.81305212352685896, 0.7803616157059774, 0.74750993300650936, 0.71409776929773849, 0.68074164080016197, 0.64779490297963582, 0.61464959710449685, 0.58197264454021658, 0.55012656573179264, 0.51876819929979823, 0.48823394292261296, 0.45864392634163109, 0.43010947665090771, 0.40265257271948524, 0.37615982828793132, 0.35110986448841147, 0.32716124272580405, 0.30431197427324258, 0.28274399234289738, 0.26242234978760065, 0.24325970866189159]

#=====================================
# PU weights calculated with new production
# notice non-physical peak at nbin=2:
# PU_Parked = [0.29022263494958567, 0.21496994595390587, 5.036072380705122, 0.06634978467156909,
#             0.08700143018808448, 0.31755649141886716, 0.2813794683222739, 0.28822672962205953,
#             0.42406677213096816, 0.6862295967632374, 1.0462921152042943, 1.3680896592790814,
#             1.4336465334362403, 1.3145105018444507, 1.1587686726885136, 1.0449375130532998,
#             0.9941587777574745, 0.9958338330190876, 1.0418952931615535, 1.1146126416660391,
#             1.1831966054254015, 1.234298091624187, 1.2725789641321341, 1.2975406991293594,
#             1.2992341381630859, 1.2682293741729045, 1.2031415942907038, 1.1092906695420084,
#             0.9931157568815545, 0.862198425262226, 0.7252828548746294, 0.5908277904955536,
#             0.4650431330288401, 0.35268677307663177, 0.2567128242752427, 0.1785398564591819,
#             0.11863515802918616, 0.07551334115101359, 0.04624512394002226, 0.02747465559424686,
#             0.01600392690931802, 0.009264915281991274, 0.005417813892085758, 0.0032550045190791843,
#             0.002041007057957313, 0.0013437194357175026, 0.000926385767766282, 0.0006628786174544077,
#             0.00048664595394752944, 0.00036285037545474754, 0.0002729786154505776, 0.00020626696139564745,
#             0.00015632318366374777, 0.00011873760209574572, 9.02799275932983e-05, 6.872145022365908e-05,
#             5.2340669501027985e-05, 3.9863979818585324e-05, 3.031847071033292e-05, 2.9173847111507967]
##===========================================
PU_Parked = [0.268065144468099, 0.4995726551973439, 0.14070885059400814, 0.33670539950258177,
             0.28216519620621344, 0.6833613725594098, 0.5136134676896067, 0.5068321293317192,
             0.6935328048426034, 1.0129631482701607, 1.4197781960118163, 1.7409171189241766,
             1.7484759551898013, 1.5471290311359012, 1.3143216945925131, 1.1420222984950283,
             1.0512278024965147, 1.0218894439265864, 1.0391846642990659, 1.0837881926938147,
             1.125622652847049, 1.1524341833020901, 1.168540280336957, 1.1734091241897826,
             1.158454994802492, 1.1165250029246372, 1.0473558002257688, 0.956423370022736,
             0.8501434060933546, 0.7353130993403971, 0.618813541683165, 0.506758950349338,
             0.4032966864532043, 0.3115642137351275, 0.23349583083143963, 0.17005746464701996,
             0.12173591230683814, 0.08755895369631936, 0.06537701584020375, 0.0526777896053642,
             0.04700880731431092, 0.04640260048719028, 0.0494987193303177, 0.0554817656538683,
             0.06408100715620889, 0.07524999743299841, 0.08922488660433056, 0.10649770570248712,
             0.12768767452018218, 0.15355591389022197, 0.1851189114747907, 0.22344802488360233,
             0.27007855860436697, 0.3267955856377265, 0.395395352763764, 0.4784626081295064,
             0.5789110225035069, 0.7004547409345987, 0.8473619092093976, 2.1570636178932454,
             0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

f = r.TFile("calculatedWeightsFromPU_2012.root","RECREATE")
puHist = r.TH1F("pu2012", "pu2012", 50,0,50)
for i,x in enumerate(PU_2012):
    puHist.SetBinContent(i+1,x)
puHist.Write()
f.Close()
f.Delete()

f = r.TFile("calculatedWeightsFromPU_Parked.root","RECREATE")
puHist = r.TH1F("puParked", "puParked", 60,0,60)
for i,x in enumerate(PU_Parked):
    puHist.SetBinContent(i+1,x)
puHist.Write()
f.Close()
